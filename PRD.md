# Study Timelapse — PRD (Product Requirements Document)

## 1. 개요

공부 시간을 설정하고, 웹캠으로 녹화한 뒤 자동으로 타임랩스 영상(경과시간 오버레이 포함)을 생성하는 서비스.

## 2. 타겟 유저

- 수험생, 대학생
- 지원 언어: 한국어, 중국어, 일본어, 영어, 스페인어 (i18n)

## 3. 기술 스택

| 구분 | 스택 |
|------|------|
| **MVP (Web)** | React (반응형) |
| **Mobile (Phase 2)** | React Native (iOS + Android) |
| **Backend** | Python FastAPI |
| **영상 처리** | FFmpeg (서버사이드 타임랩스 변환 + 오버레이) |
| **저장소** | 로컬 파일 or Object Storage (S3 등) |

## 4. 핵심 기능

### MVP (Phase 1 — Web 반응형)

| # | 기능 | 설명 |
|---|------|------|
| F1 | 타이머 설정 | 공부 시간 입력 (시/분) |
| F2 | 타이머 표시 | 남은 시간 + 경과 시간 실시간 표시 |
| F3 | 웹캠 녹화 | MediaRecorder API로 공부 모습 녹화 |
| F4 | 녹화 업로드 | 녹화 완료 시 서버로 영상 전송 |
| F5 | 타임랩스 변환 | 서버에서 FFmpeg로 타임랩스 생성 (출력 시간 기준 배속 자동 계산) |
| F6 | 경과시간 오버레이 | 타임랩스 영상에 경과 시간 텍스트 합성 |
| F7 | 다운로드 | 완성된 타임랩스 영상 다운로드 |
| F8 | 다국어 지원 | KO / ZH / JA / EN / ES |

### Phase 2 — 모바일 (React Native)

| # | 기능 | 설명 |
|---|------|------|
| F9 | 네이티브 카메라 녹화 | 백그라운드 녹화 지원 |
| F10 | 소셜 공유 | 인스타, 틱톡 등 직접 공유 |
| F11 | 계정/로그인 | 기록 저장, 통계 |
| F12 | 공부 통계 | 일/주/월 공부 시간 대시보드 |

## 5. 사용자 플로우 (MVP)

```
[시간 설정] → [녹화 시작] → [공부 중: 타이머 + 녹화] → [종료/타이머 완료]
    → [영상 업로드] → [서버: 타임랩스 변환 + 오버레이] → [다운로드]
```

## 6. 타임랩스 배속 계산

- **기준:** 출력 영상 시간 (예: 60초)
- **공식:** `배속 = 실제 녹화 시간 / 목표 출력 시간`
- **예시:** 2시간 녹화 → 60초 출력 = 120배속
- 목표 출력 시간은 기본값 제공 (30초, 60초, 90초) + 커스텀 입력

## 7. 화면 구조 (MVP)

```
1. 메인 (홈)
   - 시간 설정 입력
   - 출력 시간 선택
   - [시작] 버튼

2. 녹화 중
   - 웹캠 프리뷰
   - 타이머 (남은 시간 / 경과 시간)
   - [일시정지] [종료] 버튼

3. 변환 중
   - 업로드 진행률
   - 변환 진행률

4. 완료
   - 타임랩스 미리보기
   - [다운로드] 버튼
```

## 8. API 설계 (초안)

```
POST   /api/upload          — 녹화 영상 업로드
POST   /api/timelapse       — 타임랩스 변환 요청 (출력 시간 파라미터)
GET    /api/timelapse/{id}  — 변환 상태 조회
GET    /api/download/{id}   — 완성 영상 다운로드
```

## 9. MVP 제외 사항

- 회원가입/로그인
- 소셜 공유
- 공부 통계/대시보드
- 클라우드 저장
- 모바일 네이티브 앱

## 10. 리스크 & 대응

| 리스크 | 대응 |
|--------|------|
| 웹 탭 전환 시 녹화 중단 | 경고 표시 + Phase 2 네이티브에서 해결 |
| 대용량 영상 업로드 느림 | 청크 업로드 적용, 압축 후 전송 |
| FFmpeg 변환 시간 | 비동기 처리 + 진행률 표시 (WebSocket or Polling) |
| 브라우저 호환성 | Chrome/Safari/Firefox 주요 브라우저 지원 명시 |

## 11. 마일스톤

| 단계 | 내용 | 예상 기간 |
|------|------|-----------|
| M1 | 프론트: 타이머 + 웹캠 녹화 | 1주 |
| M2 | 백엔드: 업로드 + FFmpeg 타임랩스 변환 | 1주 |
| M3 | 통합: 업로드 → 변환 → 다운로드 파이프라인 | 1주 |
| M4 | 다국어(i18n) + UI 다듬기 | 0.5주 |
| M5 | 테스트 + 버그 수정 + 배포 | 0.5주 |
| **합계** | | **~4주** |

## 상태

- [x] 아이디어
- [x] 기획 (PRD)
- [ ] 디자인
- [ ] 개발
- [ ] 테스트
- [ ] 배포
